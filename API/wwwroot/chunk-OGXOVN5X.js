import{a as fe}from"./chunk-KWNQHRPC.js";import{a as M}from"./chunk-WBO5KV4A.js";import{c as $,e as I,f as Fe,p as le,q as R}from"./chunk-SPNNO5LP.js";import{s as T}from"./chunk-E6ZKMAWP.js";import{$b as j,$d as g,Bb as p,Dc as Se,Ec as be,Fa as V,Ga as O,Gc as W,Ib as m,Kb as z,Rc as Q,Rd as N,S as ee,Td as P,Vb as l,Wb as a,Xb as C,Yb as h,Zb as x,_b as te,_d as L,be as U,bf as ae,cc as q,ce as G,dc as c,de as B,ec as xe,fc as ve,fe as w,hd as ye,he as A,id as k,lb as o,mb as d,md as we,me as Z,nc as K,nd as ne,ne as J,oc as s,od as Ee,pc as u,qa as Y,qc as S,te as pe,ue as re,va as b,ve as oe,we as ue,xc as y,zc as Ce,ze as X}from"./chunk-2LHIXASS.js";var De=[[["","title",""]],[["","body",""]]],Ve=["[title]","[body]"],Oe=e=>({height:e}),D=(()=>{let r=class r{constructor(){this.navService=Y(M)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=b({type:r,selectors:[["app-splash-container"]],standalone:!0,features:[y],ngContentSelectors:Ve,decls:10,vars:5,consts:[[1,"mx-auto","login",3,"ngStyle"],[1,"row","row-cols-4","row-cols-md-4","row-cols-sm-2","row-cols-xs-2"],[1,"col","align-self-center","card","p-3"],[1,"logo-container"],[1,"card-title","text-center"],[1,"card-text"]],template:function(i,f){i&1&&(xe(De),l(0,"div",0),Se(1,"async"),l(2,"div",1)(3,"div",2)(4,"span")(5,"div",3)(6,"h3",4),ve(7),a()()(),l(8,"div",5),ve(9,1),a()()()()),i&2&&m("ngStyle",Ce(3,Oe,be(1,1,f.navService.navbarVisible$)?"calc(var(--vh, 1vh) * 100 - 57px)":"calc(var(--vh, 1vh) * 100)"))},dependencies:[we,Ee],styles:[`.login[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:calc(var(--vh, 1vh) * 100 - 57px);min-height:289px;position:relative;width:100vw;max-width:100vw}.login[_ngcontent-%COMP%]:before{content:"";background-image:url("./media/login-bg-3F52TUWZ.jpg");background-size:cover;position:absolute;top:0;right:0;bottom:0;opacity:.1;width:100%}.login[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:inline-block;height:50px}.login[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff;min-width:300px;max-width:12rem}.login[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:focus{border:2px solid white}.login[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-family:Spartan,sans-serif;font-weight:700;display:inline-block;vertical-align:middle;width:100%}.login[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{font-family:EBGaramond,Helvetica Neue,sans-serif}
/*# sourceMappingURL=splash-container.component-7MVJSNFW.css.map */`],changeDetection:0});let e=r;return e})();function qe(e,r){if(e&1){let n=j();l(0,"form",5),q("ngSubmit",function(){V(n);let i=c(3);return O(i.login())}),l(1,"div",6)(2,"div",7)(3,"label",8),s(4),a(),C(5,"input",9),a(),l(6,"div",10)(7,"label",11),s(8),a(),C(9,"input",12),a(),l(10,"div",7)(11,"a",13),s(12),a()(),l(13,"div")(14,"button",14),s(15),a()()()()}if(e&2){let n=c(2).$implicit,t=c();m("formGroup",t.loginForm),o(4),u(n("username")),o(),m("placeholder",n("username")),o(3),u(n("password")),o(),m("placeholder",n("password")),o(3),u(n("forgot-password")),o(2),m("disabled",t.isSubmitting),o(),u(n("submit"))}}function $e(e,r){if(e&1&&(h(0),p(1,qe,16,8,"form",4),x()),e&2){let n=c(2);o(),m("ngIf",!n.firstTimeFlow)}}function Le(e,r){if(e&1&&(h(0),l(1,"app-splash-container"),h(2,1),l(3,"h2"),s(4),a(),x(),h(5,2),p(6,$e,2,1,"ng-container",3),x(),a(),x()),e&2){let n=r.$implicit,t=c();o(4),u(n("title")),o(2),m("ngIf",t.isLoaded)}}var he=(()=>{let r=class r{constructor(t,i,f,v,F,_,E){this.accountService=t,this.router=i,this.memberService=f,this.toastr=v,this.navService=F,this.cdRef=_,this.route=E,this.loginForm=new B({username:new w("",[g.required]),password:new w("",[g.required,g.maxLength(32),g.minLength(6),g.pattern("^.{6,32}$")])}),this.firstTimeFlow=!0,this.isLoaded=!1,this.isSubmitting=!1,this.navService.hideNavBar(),this.navService.hideSideNav()}ngOnInit(){this.accountService.currentUser$.pipe(ee(1)).subscribe(t=>{t&&(this.navService.showNavBar(),this.navService.showSideNav(),this.router.navigateByUrl("/home"),this.cdRef.markForCheck())}),this.memberService.adminExists().pipe(ee(1)).subscribe(t=>{if(this.firstTimeFlow=!t,this.firstTimeFlow){this.router.navigateByUrl("registration/register");return}this.isLoaded=!0,this.cdRef.markForCheck()}),this.route.queryParamMap.subscribe(t=>{let i=t.get("apiKey");i!=null&&i.length>0&&this.login(i)})}login(t=""){let i=this.loginForm.getRawValue();i.apiKey=t,this.isSubmitting=!0,this.cdRef.markForCheck(),this.accountService.login(i).subscribe(()=>{this.loginForm.reset(),this.navService.showNavBar(),this.navService.showSideNav();let f=localStorage.getItem("kavita--auth-intersection-url");f&&f!=="/login"?(localStorage.setItem("kavita--auth-intersection-url",""),this.router.navigateByUrl(f)):(localStorage.setItem("kavita--auth-intersection-url",""),this.router.navigateByUrl("/home")),this.isSubmitting=!1,this.cdRef.markForCheck()},f=>{this.toastr.error(f.error),this.isSubmitting=!1,this.cdRef.markForCheck()})}};r.\u0275fac=function(i){return new(i||r)(d(R),d(I),d(fe),d(T),d(M),d(Q),d($))},r.\u0275cmp=b({type:r,selectors:[["app-user-login"]],standalone:!0,features:[y],decls:1,vars:1,consts:[[4,"transloco","translocoRead"],["title",""],["body",""],[4,"ngIf"],["novalidate","","class","needs-validation",3,"formGroup","ngSubmit",4,"ngIf"],["novalidate","",1,"needs-validation",3,"ngSubmit","formGroup"],[1,"card-text"],[1,"mb-3"],["for","username",1,"form-label","visually-hidden"],["formControlName","username","id","username","autocomplete","username","type","text","autofocus","",1,"form-control","custom-input",3,"placeholder"],[1,"mb-2"],["for","password",1,"form-label","visually-hidden"],["formControlName","password","name","password","autocomplete","current-password","id","password","type","password",1,"form-control","custom-input",3,"placeholder"],["routerLink","/registration/reset-password",2,"color","white"],["type","submit",1,"btn","btn-secondary","alt",3,"disabled"]],template:function(i,f){i&1&&p(0,Le,7,2,"ng-container",0),i&2&&m("translocoRead","login")},dependencies:[D,k,X,A,L,U,G,Z,J,Fe,P],styles:[`.btn[_ngcontent-%COMP%]{width:100%}div[_ngcontent-%COMP%]{text-align:center}a[_ngcontent-%COMP%]{font-size:.8rem}.custom-input[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.invalid-feedback[_ngcontent-%COMP%]{display:inline-block;color:#343c59}
/*# sourceMappingURL=user-login.component-GBGUZZWJ.css.map */`],changeDetection:0});let e=r;return e})();function Ue(e,r){if(e&1&&(l(0,"p"),s(1),a()),e&2){let n=c().$implicit;o(),u(n("non-confirm-description"))}}function Ge(e,r){if(e&1&&(l(0,"div",5)(1,"div",6)(2,"div",7)(3,"h3"),C(4,"i",8),s(5),a()(),l(6,"p"),s(7),a()()()),e&2){let n=c().$implicit;o(5),u(n("success")),o(2),u(n("confirm-description"))}}function Be(e,r){if(e&1&&(h(0),l(1,"app-splash-container"),h(2,2),l(3,"h2"),s(4),a(),x(),h(5,3),p(6,Ue,2,1,"p",4)(7,Ge,8,2,"ng-template",null,0,W),x(),a(),x()),e&2){let n=r.$implicit,t=K(8),i=c();o(4),u(n("title")),o(2),m("ngIf",!i.confirmed)("ngIfElse",t)}}var Te=(()=>{let r=class r{constructor(t,i,f,v,F,_,E){this.route=t,this.router=i,this.accountService=f,this.toastr=v,this.themeService=F,this.navService=_,this.cdRef=E,this.email="",this.token="",this.confirmed=!1,this.navService.hideSideNav(),this.themeService.setTheme(this.themeService.defaultTheme);let H=this.route.snapshot.queryParamMap.get("token"),se=this.route.snapshot.queryParamMap.get("email");if(this.isNullOrEmpty(H)||this.isNullOrEmpty(se)){this.toastr.error(N("errors.invalid-confirmation-url")),this.router.navigateByUrl("login");return}this.token=H,this.email=se}ngOnInit(){this.accountService.confirmEmailUpdate({email:this.email,token:this.token}).subscribe(t=>{this.confirmed=!0,this.cdRef.markForCheck(),this.accountService.refreshAccount().subscribe(),setTimeout(()=>this.router.navigateByUrl("login"),2e3)})}isNullOrEmpty(t){return t==null||t===""||t===null}};r.\u0275fac=function(i){return new(i||r)(d($),d(I),d(R),d(T),d(le),d(M),d(Q))},r.\u0275cmp=b({type:r,selectors:[["app-confirm-email-change"]],standalone:!0,features:[y],decls:1,vars:1,consts:[["confirmedMessage",""],[4,"transloco","translocoRead"],["title",""],["body",""],[4,"ngIf","ngIfElse"],[1,"card"],[1,"card-body"],[1,"card-title"],["aria-hidden","true",1,"fa-regular","fa-circle-check","me-2",2,"font-size","1.8rem"]],template:function(i,f){i&1&&p(0,Be,9,3,"ng-container",1),i&2&&m("translocoRead","confirm-email-change")},dependencies:[D,k,P],styles:[`.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]{background-color:var(--primary-color)}
/*# sourceMappingURL=confirm-email-change.component-VX3XJ6BV.css.map */`],changeDetection:0});let e=r;return e})();function Ae(e,r){if(e&1&&(l(0,"li"),s(1),a()),e&2){let n=r.$implicit;o(),u(n)}}function Ze(e,r){if(e&1&&(l(0,"div",22)(1,"p"),s(2),a(),l(3,"ul"),p(4,Ae,2,1,"li",23),a()()),e&2){let n=c().$implicit,t=c();o(2),u(n("error-label")),o(2),m("ngForOf",t.errors)}}function Je(e,r){if(e&1&&(l(0,"div"),s(1),a()),e&2){let n=c(2).$implicit;o(),S(" ",n("required-field")," ")}}function Xe(e,r){if(e&1&&(l(0,"div",24),p(1,Je,2,1,"div",25),a()),e&2){let n,t=c(2);o(),m("ngIf",(n=t.registerForm.get("username"))==null||n.errors==null?null:n.errors.required)}}function Ye(e,r){if(e&1&&(l(0,"div"),s(1),a()),e&2){let n=c(2).$implicit;o(),S(" ",n("required-field")," ")}}function ze(e,r){if(e&1&&(l(0,"div"),s(1),a()),e&2){let n=c(2).$implicit;o(),S(" ",n("valid-email")," ")}}function Ke(e,r){if(e&1&&(l(0,"div",26),p(1,Ye,2,1,"div",25)(2,ze,2,1,"div",25),a()),e&2){let n,t,i=c(2);o(),m("ngIf",(n=i.registerForm.get("email"))==null||n.errors==null?null:n.errors.required),o(),m("ngIf",(t=i.registerForm.get("email"))==null||t.errors==null?null:t.errors.email)}}function We(e,r){if(e&1&&s(0),e&2){let n=c().$implicit;S(" ",n("password-validation")," ")}}function He(e,r){if(e&1&&(l(0,"div"),s(1),a()),e&2){let n=c(2).$implicit;o(),S(" ",n("required-field")," ")}}function Qe(e,r){if(e&1&&(l(0,"div"),s(1),a()),e&2){let n=c(2).$implicit;o(),S(" ",n("password-validation")," ")}}function et(e,r){if(e&1&&(l(0,"div",27),p(1,He,2,1,"div",25)(2,Qe,2,1,"div",25),a()),e&2){let n,t,i=c(2);o(),m("ngIf",(n=i.registerForm.get("password"))==null||n.errors==null?null:n.errors.required),o(),m("ngIf",((t=i.registerForm.get("password"))==null||t.errors==null?null:t.errors.minlength)||((t=i.registerForm.get("password"))==null||t.errors==null?null:t.errors.maxLength)||((t=i.registerForm.get("password"))==null||t.errors==null?null:t.errors.pattern))}}function tt(e,r){if(e&1){let n=j();h(0),l(1,"app-splash-container"),h(2,2),l(3,"h2"),s(4),a(),x(),h(5,3),l(6,"p"),s(7),a(),p(8,Ze,5,2,"div",4),l(9,"form",5),q("ngSubmit",function(){V(n);let i=c();return O(i.submit())}),l(10,"div",6)(11,"label",7),s(12),a(),C(13,"input",8),p(14,Xe,2,1,"div",9),a(),l(15,"div",10)(16,"label",11),s(17),a(),C(18,"input",12),p(19,Ke,3,2,"div",13),a(),l(20,"div",6)(21,"label",14),s(22),a(),s(23,"\xA0"),C(24,"i",15),p(25,We,1,1,"ng-template",null,0,W),l(27,"span",16),te(28,17),a(),C(29,"input",18),p(30,et,3,2,"div",19),a(),l(31,"div",20)(32,"button",21),s(33),a()()(),x(),a(),x()}if(e&2){let n,t,i=r.$implicit,f=K(26),v=c();o(4),u(i("title")),o(3),u(i("description")),o(),m("ngIf",v.errors.length>0),o(),m("formGroup",v.registerForm),o(3),u(i("username-label")),o(),z("is-invalid",((n=v.registerForm.get("username"))==null?null:n.invalid)&&((n=v.registerForm.get("username"))==null?null:n.touched)),o(),m("ngIf",v.registerForm.dirty||v.registerForm.touched),o(3),u(i("email-label")),o(),z("is-invalid",((t=v.registerForm.get("email"))==null?null:t.invalid)&&((t=v.registerForm.get("email"))==null?null:t.touched)),o(),m("ngIf",v.registerForm.dirty||v.registerForm.touched),o(3),u(i("password-label")),o(2),m("ngbTooltip",f),o(4),m("ngTemplateOutlet",f),o(2),m("ngIf",v.registerForm.dirty||v.registerForm.touched),o(3),u(i("register"))}}var Re=(()=>{let r=class r{constructor(t,i,f,v,F,_,E){this.route=t,this.router=i,this.accountService=f,this.toastr=v,this.themeService=F,this.navService=_,this.cdRef=E,this.token="",this.registerForm=new B({email:new w("",[g.required]),username:new w("",[g.required]),password:new w("",[g.required,g.maxLength(32),g.minLength(6),g.pattern("^.{6,32}$")])}),this.errors=[],this.navService.hideSideNav(),this.themeService.setTheme(this.themeService.defaultTheme);let H=this.route.snapshot.queryParamMap.get("token"),se=this.route.snapshot.queryParamMap.get("email");if(this.cdRef.markForCheck(),this.isNullOrEmpty(H)||this.isNullOrEmpty(se)){this.toastr.error(N("errors.invalid-confirmation-url")),this.router.navigateByUrl("login");return}this.token=H,this.registerForm.get("email")?.setValue(se||""),this.cdRef.markForCheck()}ngOnDestroy(){this.accountService.currentUser$.pipe(ee(1)).subscribe(t=>{t&&this.navService.showSideNav()})}isNullOrEmpty(t){return t==null||t===""||t===null}submit(){let t=this.registerForm.getRawValue();t.token=this.token,this.accountService.confirmEmail(t).subscribe(i=>{this.toastr.success(N("toasts.account-registration-complete")),this.router.navigateByUrl("login")},i=>{console.error("Error from Confirming Email: ",i),this.errors=i,this.cdRef.markForCheck()})}};r.\u0275fac=function(i){return new(i||r)(d($),d(I),d(R),d(T),d(le),d(M),d(Q))},r.\u0275cmp=b({type:r,selectors:[["app-confirm-email"]],standalone:!0,features:[y],decls:1,vars:1,consts:[["passwordTooltip",""],[4,"transloco","translocoRead"],["title",""],["body",""],["class","text-danger",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","username",1,"form-label"],["id","username","formControlName","username","type","text","aria-describeby","inviteForm-username-validations",1,"form-control"],["id","inviteForm-username-validations","class","invalid-feedback",4,"ngIf"],[1,"mb-3",2,"width","100%"],["for","email",1,"form-label"],["type","email","inputmode","email","id","email","formControlName","email","required","","readonly","",1,"form-control"],["id","inviteForm-email-validations","class","invalid-feedback",4,"ngIf"],["for","password",1,"form-label"],["placement","right","role","button","tabindex","0",1,"fa","fa-info-circle",3,"ngbTooltip"],["id","password-help",1,"visually-hidden"],[3,"ngTemplateOutlet"],["id","password","maxlength","32","minlength","6","pattern","^.{6,32}$","formControlName","password","type","password","aria-describedby","password-help",1,"form-control"],["id","inviteForm-password-validations","class","invalid-feedback",4,"ngIf"],[1,"float-end"],["type","submit",1,"btn","btn-secondary","alt"],[1,"text-danger"],[4,"ngFor","ngForOf"],["id","inviteForm-username-validations",1,"invalid-feedback"],[4,"ngIf"],["id","inviteForm-email-validations",1,"invalid-feedback"],["id","inviteForm-password-validations",1,"invalid-feedback"]],template:function(i,f){i&1&&p(0,tt,34,17,"ng-container",1),i&2&&m("translocoRead","confirm-email")},dependencies:[D,k,ye,X,A,L,U,G,pe,re,oe,ue,Z,J,ae,ne,P],styles:[`input[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}
/*# sourceMappingURL=confirm-email.component-7X5GEJYI.css.map */`],changeDetection:0});let e=r;return e})();var Me=(()=>{let r=class r{constructor(t,i,f,v,F){this.route=t,this.router=i,this.accountService=f,this.toastr=v,this.themeService=F,this.themeService.setTheme(this.themeService.defaultTheme);let _=this.route.snapshot.queryParamMap.get("token"),E=this.route.snapshot.queryParamMap.get("email");if(_===void 0||_===""||_===null||E===void 0||E===""||E===null){this.toastr.error(N("errors.invalid-confirmation-email")),this.router.navigateByUrl("login");return}this.accountService.confirmMigrationEmail({token:_,email:E}).subscribe(H=>{this.toastr.success(N("toasts.account-migration-complete")),this.router.navigateByUrl("login")})}};r.\u0275fac=function(i){return new(i||r)(d($),d(I),d(R),d(T),d(le))},r.\u0275cmp=b({type:r,selectors:[["app-confirm-migration-email"]],standalone:!0,features:[y],decls:0,vars:0,template:function(i,f){},styles:["/*# sourceMappingURL=confirm-migration-email.component-MEKEXV6X.css.map */"],changeDetection:0});let e=r;return e})();function it(e,r){if(e&1&&s(0),e&2){let n=c().$implicit;S(" ",n("password-validation")," ")}}function nt(e,r){if(e&1&&(l(0,"div"),s(1),a()),e&2){let n=c(2).$implicit;o(),S(" ",n("required-field")," ")}}function rt(e,r){if(e&1&&(l(0,"div"),s(1),a()),e&2){let n=c(2).$implicit;o(),S(" ",n("password-validation")," ")}}function ot(e,r){if(e&1&&(l(0,"div",14),p(1,nt,2,1,"div",15)(2,rt,2,1,"div",15),a()),e&2){let n,t,i=c(2);o(),m("ngIf",(n=i.registerForm.get("password"))==null||n.errors==null?null:n.errors.required),o(),m("ngIf",((t=i.registerForm.get("password"))==null||t.errors==null?null:t.errors.minlength)||((t=i.registerForm.get("password"))==null||t.errors==null?null:t.errors.maxLength))}}function at(e,r){if(e&1){let n=j();h(0),l(1,"app-splash-container"),h(2,2),l(3,"h2"),s(4),a(),x(),h(5,3),l(6,"p"),s(7),a(),l(8,"form",4),q("ngSubmit",function(){V(n);let i=c();return O(i.submit())}),l(9,"div",5)(10,"label",6),s(11),a(),s(12,"\xA0"),C(13,"i",7),p(14,it,1,1,"ng-template",null,0,W),l(16,"span",8),te(17,9),a(),C(18,"input",10),p(19,ot,3,2,"div",11),a(),l(20,"div",12)(21,"button",13),s(22),a()()(),x(),a(),x()}if(e&2){let n=r.$implicit,t=K(15),i=c();o(4),u(n("title")),o(3),u(n("description")),o(),m("formGroup",i.registerForm),o(3),u(n("password-label")),o(2),m("ngbTooltip",t),o(4),m("ngTemplateOutlet",t),o(2),m("ngIf",i.registerForm.dirty||i.registerForm.touched),o(3),u(n("submit"))}}var Ne=(()=>{let r=class r{constructor(t,i,f,v,F,_){this.route=t,this.router=i,this.accountService=f,this.toastr=v,this.cdRef=F,this.navService=_,this.token="",this.registerForm=new B({email:new w("",[g.required,g.email]),password:new w("",[g.required,g.maxLength(32),g.minLength(6)])}),this.navService.showNavBar(),this.navService.hideSideNav();let E=this.route.snapshot.queryParamMap.get("token"),H=this.route.snapshot.queryParamMap.get("email");if(E==null||E===""||E===null){this.toastr.error(N("errors.invalid-password-reset-url")),this.router.navigateByUrl("login");return}this.token=E,this.registerForm.get("email")?.setValue(H),this.cdRef.markForCheck()}submit(){let t=this.registerForm.getRawValue();t.token=this.token,this.accountService.confirmResetPasswordEmail(t).subscribe(i=>{this.toastr.success(N("toasts.password-reset")),this.router.navigateByUrl("login")},i=>{console.error(i,"There was an error trying to confirm reset password")})}};r.\u0275fac=function(i){return new(i||r)(d($),d(I),d(R),d(T),d(Q),d(M))},r.\u0275cmp=b({type:r,selectors:[["app-confirm-reset-password"]],standalone:!0,features:[y],decls:1,vars:1,consts:[["passwordTooltip",""],[4,"transloco","translocoRead"],["title",""],["body",""],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","password",1,"form-label"],["placement","right","role","button","tabindex","0",1,"fa","fa-info-circle",3,"ngbTooltip"],["id","password-help",1,"visually-hidden"],[3,"ngTemplateOutlet"],["id","password","maxlength","32","minlength","6","formControlName","password","type","password","aria-describedby","password-help",1,"form-control"],["id","inviteForm-validations","class","invalid-feedback",4,"ngIf"],[1,"float-end"],["type","submit",1,"btn","btn-secondary","alt"],["id","inviteForm-validations",1,"invalid-feedback"],[4,"ngIf"]],template:function(i,f){i&1&&p(0,at,23,8,"ng-container",1),i&2&&m("translocoRead","confirm-reset-password")},dependencies:[D,X,A,L,U,G,re,oe,Z,J,ae,ne,k,P],styles:[`input[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}
/*# sourceMappingURL=confirm-reset-password.component-BZJQMA2E.css.map */`],changeDetection:0});let e=r;return e})();function lt(e,r){if(e&1&&(l(0,"div"),s(1),a()),e&2){let n=c(2).$implicit;o(),S(" ",n("required-field")," ")}}function st(e,r){if(e&1&&(l(0,"div",23),p(1,lt,2,1,"div",24),a()),e&2){let n,t=c(2);o(),m("ngIf",(n=t.registerForm.get("username"))==null||n.errors==null?null:n.errors.required)}}function mt(e,r){if(e&1&&s(0),e&2){let n=c().$implicit;u(n("email-tooltip"))}}function ct(e,r){if(e&1&&(l(0,"div"),s(1),a()),e&2){let n=c(2).$implicit;o(),S(" ",n("required-field")," ")}}function dt(e,r){if(e&1&&(l(0,"div"),s(1),a()),e&2){let n=c(2).$implicit;o(),S(" ",n("valid-email")," ")}}function pt(e,r){if(e&1&&(l(0,"div",25),p(1,ct,2,1,"div",24)(2,dt,2,1,"div",24),a()),e&2){let n,t,i=c(2);o(),m("ngIf",(n=i.registerForm.get("email"))==null||n.errors==null?null:n.errors.required),o(),m("ngIf",(t=i.registerForm.get("email"))==null||t.errors==null?null:t.errors.email)}}function ut(e,r){if(e&1&&s(0),e&2){let n=c().$implicit;S(" ",n("password-validation")," ")}}function ft(e,r){if(e&1&&(l(0,"div"),s(1),a()),e&2){let n=c(2).$implicit;o(),S(" ",n("required-field")," ")}}function gt(e,r){if(e&1&&(l(0,"div"),s(1),a()),e&2){let n=c(2).$implicit;o(),S(" ",n("password-validation")," ")}}function vt(e,r){if(e&1&&(l(0,"div",26),p(1,ft,2,1,"div",24)(2,gt,2,1,"div",24),a()),e&2){let n,t,i=c(2);o(),m("ngIf",(n=i.registerForm.get("password"))==null||n.errors==null?null:n.errors.required),o(),m("ngIf",((t=i.registerForm.get("password"))==null||t.errors==null?null:t.errors.minlength)||((t=i.registerForm.get("password"))==null||t.errors==null?null:t.errors.maxLength)||((t=i.registerForm.get("password"))==null||t.errors==null?null:t.errors.pattern))}}function _t(e,r){if(e&1){let n=j();h(0),l(1,"app-splash-container"),h(2,3),l(3,"h2"),s(4),a(),x(),h(5,4),l(6,"p"),s(7),a(),l(8,"form",5),q("ngSubmit",function(){V(n);let i=c();return O(i.submit())}),l(9,"div",6)(10,"label",7),s(11),a(),C(12,"input",8),p(13,st,2,1,"div",9),a(),l(14,"div",10)(15,"label",11),s(16),a(),s(17,"\xA0"),C(18,"i",12),p(19,mt,1,1,"ng-template",null,0,W),l(21,"span",13),te(22,14),a(),C(23,"input",15),p(24,pt,3,2,"div",16),a(),l(25,"div",6)(26,"label",17),s(27,"Password"),a(),s(28,"\xA0"),C(29,"i",12),p(30,ut,1,1,"ng-template",null,1,W),l(32,"span",18),te(33,14),a(),C(34,"input",19),p(35,vt,3,2,"div",20),a(),l(36,"div",21)(37,"button",22),s(38),a()()(),x(),a(),x()}if(e&2){let n,t,i,f=r.$implicit,v=K(20),F=K(31),_=c();o(4),u(f("title")),o(3),u(f("description")),o(),m("formGroup",_.registerForm),o(3),u(f("username-label")),o(),z("is-invalid",((n=_.registerForm.get("username"))==null?null:n.invalid)&&((n=_.registerForm.get("username"))==null?null:n.touched)),o(),m("ngIf",_.registerForm.dirty||_.registerForm.touched),o(3),u(f("email-label")),o(2),m("ngbTooltip",v),o(4),m("ngTemplateOutlet",v),o(),z("is-invalid",((t=_.registerForm.get("email"))==null?null:t.invalid)&&((t=_.registerForm.get("email"))==null?null:t.touched)),o(),m("ngIf",_.registerForm.dirty||_.registerForm.touched),o(5),m("ngbTooltip",F),o(4),m("ngTemplateOutlet",F),o(),z("is-invalid",((i=_.registerForm.get("password"))==null?null:i.invalid)&&((i=_.registerForm.get("password"))==null?null:i.touched)),o(),m("ngIf",_.registerForm.dirty||_.registerForm.touched),o(2),m("disabled",!_.registerForm.valid),o(),u(f("register"))}}var ke=(()=>{let r=class r{constructor(t,i,f,v){this.router=t,this.accountService=i,this.toastr=f,this.memberService=v,this.registerForm=new B({email:new w("",[g.required]),username:new w("",[g.required]),password:new w("",[g.required,g.maxLength(32),g.minLength(6),g.pattern("^.{6,32}$")])}),this.navService=Y(M),this.navService.hideNavBar(),this.navService.hideSideNav(),this.memberService.adminExists().pipe(ee(1)).subscribe(F=>{if(F){this.router.navigateByUrl("login");return}})}submit(){let t=this.registerForm.getRawValue();this.accountService.register(t).subscribe(i=>{this.toastr.success(N("toasts.account-registration-complete")),this.router.navigateByUrl("login")})}};r.\u0275fac=function(i){return new(i||r)(d(I),d(R),d(T),d(fe))},r.\u0275cmp=b({type:r,selectors:[["app-register"]],standalone:!0,features:[y],decls:1,vars:1,consts:[["emailTooltip",""],["passwordTooltip",""],[4,"transloco","translocoRead"],["title",""],["body",""],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","username",1,"form-label"],["id","username","formControlName","username","type","text","autocomplete","username","aria-describedby","username-validations",1,"form-control"],["id","username-validations","class","invalid-feedback",4,"ngIf"],[1,"mb-3",2,"width","100%"],["for","email",1,"form-label"],["placement","right","role","button","tabindex","0",1,"fa","fa-info-circle",3,"ngbTooltip"],["id","email-help",1,"visually-hidden"],[3,"ngTemplateOutlet"],["type","email","inputmode","email","id","email","autocomplete","email","formControlName","email","required","","aria-describedby","email-help",1,"form-control"],["id","email-validations","class","invalid-feedback",4,"ngIf"],["for","password",1,"form-label"],["id","password-help",1,"visually-hidden"],["id","password","maxlength","32","minlength","6","pattern","^.{6,32}$","formControlName","password","autocomplete","new-password","type","password","aria-describedby","password-help",1,"form-control"],["id","password-validations","class","invalid-feedback",4,"ngIf"],[1,"float-end"],["type","submit",1,"btn","btn-secondary","alt",3,"disabled"],["id","username-validations",1,"invalid-feedback"],[4,"ngIf"],["id","email-validations",1,"invalid-feedback"],["id","password-validations",1,"invalid-feedback"]],template:function(i,f){i&1&&p(0,_t,39,20,"ng-container",2),i&2&&m("translocoRead","register")},dependencies:[D,X,A,L,U,G,pe,re,oe,ue,Z,J,k,ae,ne,P],styles:[`input[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}
/*# sourceMappingURL=register.component-EYSYNCYF.css.map */`],changeDetection:0});let e=r;return e})();function ht(e,r){if(e&1&&(l(0,"div"),s(1),a()),e&2){let n=c(2).$implicit;o(),S(" ",n("required-field")," ")}}function xt(e,r){if(e&1&&(l(0,"div"),s(1),a()),e&2){let n=c(2).$implicit;o(),S(" ",n("valid-email")," ")}}function Ct(e,r){if(e&1&&(l(0,"div",9),p(1,ht,2,1,"div",10)(2,xt,2,1,"div",10),a()),e&2){let n,t,i=c(2);o(),m("ngIf",(n=i.registerForm.get("email"))==null||n.errors==null?null:n.errors.required),o(),m("ngIf",(t=i.registerForm.get("email"))==null||t.errors==null?null:t.errors.email)}}function St(e,r){if(e&1){let n=j();h(0),l(1,"app-splash-container"),h(2,1),l(3,"h2"),s(4),a(),x(),h(5,2),l(6,"p"),s(7),a(),l(8,"form",3),q("ngSubmit",function(){V(n);let i=c();return O(i.submit())}),l(9,"div",4)(10,"label",5),s(11,"Email"),a(),C(12,"input",6),p(13,Ct,3,2,"div",7),a(),l(14,"div")(15,"button",8),s(16),a()()(),x(),a(),x()}if(e&2){let n,t=r.$implicit,i=c();o(4),u(t("title")),o(3),u(t("description")),o(),m("formGroup",i.registerForm),o(4),z("is-invalid",((n=i.registerForm.get("email"))==null?null:n.invalid)&&((n=i.registerForm.get("email"))==null?null:n.touched)),o(),m("ngIf",i.registerForm.dirty||i.registerForm.touched),o(3),u(t("submit"))}}var Pe=(()=>{let r=class r{constructor(){this.router=Y(I),this.accountService=Y(R),this.toastr=Y(T),this.navService=Y(M),this.registerForm=new B({email:new w("",[g.required,g.email])}),this.navService.hideNavBar(),this.navService.hideSideNav()}submit(){let t=this.registerForm.get("email")?.value;this.accountService.requestResetPasswordEmail(t).subscribe(i=>{this.toastr.info(i),this.router.navigateByUrl("login")},i=>{this.toastr.error(i.error)})}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=b({type:r,selectors:[["app-reset-password"]],standalone:!0,features:[y],decls:1,vars:1,consts:[[4,"transloco","translocoRead"],["title",""],["body",""],[3,"ngSubmit","formGroup"],[1,"mb-3",2,"width","100%"],["for","email",1,"form-label"],["type","email","inputmode","email","id","email","formControlName","email",1,"form-control","custom-input"],["id","inviteForm-validations","class","invalid-feedback",4,"ngIf"],["type","submit",1,"btn","btn-secondary","alt"],["id","inviteForm-validations",1,"invalid-feedback"],[4,"ngIf"]],template:function(i,f){i&1&&p(0,St,17,7,"ng-container",0),i&2&&m("translocoRead","reset-password")},dependencies:[D,X,A,L,U,G,Z,J,k,P],styles:[`.btn[_ngcontent-%COMP%]{width:100%}.custom-input[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}
/*# sourceMappingURL=reset-password.component-YZ42BHAZ.css.map */`],changeDetection:0});let e=r;return e})();var Mi=[{path:"",component:he},{path:"login",component:he},{path:"confirm-email",component:Re},{path:"confirm-migration-email",component:Me},{path:"confirm-email-update",component:Te},{path:"register",component:ke},{path:"reset-password",component:Pe},{path:"confirm-reset-password",component:Ne}];export{Mi as routes};
//# sourceMappingURL=chunk-OGXOVN5X.js.map
