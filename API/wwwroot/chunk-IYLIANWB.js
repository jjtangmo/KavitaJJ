import{q as v}from"./chunk-SPNNO5LP.js";import{$ as a,Dd as d,Hd as u,Id as r,fa as p,ka as l,o as h,pa as o}from"./chunk-2LHIXASS.js";var j=(()=>{let i=class i{constructor(e,t){this.httpClient=e,this.accountService=t,this.baseUrl=u.apiUrl,this.devicesSource=new h(1),this.devices$=this.devicesSource.asObservable().pipe(a()),this.accountService.currentUser$.subscribe(s=>{if(!s){this.devicesSource.next([]);return}this.httpClient.get(this.baseUrl+"device",{}).subscribe(n=>{this.devicesSource.next(n)})})}createDevice(e,t,s){return this.httpClient.post(this.baseUrl+"device/create",{name:e,platform:t,emailAddress:s},r)}updateDevice(e,t,s,n){return this.httpClient.post(this.baseUrl+"device/update",{id:e,name:t,platform:s,emailAddress:n},r)}deleteDevice(e){return this.httpClient.delete(this.baseUrl+"device?deviceId="+e)}getDevices(){return this.httpClient.get(this.baseUrl+"device",{}).pipe(p(e=>{this.devicesSource.next(e)}))}sendTo(e,t){return this.httpClient.post(this.baseUrl+"device/send-to",{deviceId:t,chapterIds:e},r)}sendSeriesTo(e,t){return this.httpClient.post(this.baseUrl+"device/send-series-to",{deviceId:t,seriesId:e},r)}};i.\u0275fac=function(t){return new(t||i)(o(d),o(v))},i.\u0275prov=l({token:i,factory:i.\u0275fac,providedIn:"root"});let c=i;return c})();export{j as a};
//# sourceMappingURL=chunk-IYLIANWB.js.map
