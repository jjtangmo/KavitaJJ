import{b as u,f as c}from"./chunk-5CMEBAZF.js";import{Bd as h,Dd as p,Hd as b,Id as r,ka as a,pa as l,z as n}from"./chunk-2LHIXASS.js";var m=function(e){return e[e.Kavita=0]="Kavita",e[e.AniList=1]="AniList",e[e.Mal=2]="Mal",e[e.GoogleBooks=3]="GoogleBooks",e}(m||{}),H=(()=>{let s=class s{constructor(t,i){this.httpClient=t,this.utilityService=i,this.baseUrl=b.apiUrl}hasTokenExpired(t){return this.httpClient.get(this.baseUrl+"scrobbling/token-expired?provider="+t,r).pipe(n(i=>i==="true"))}updateAniListToken(t){return this.httpClient.post(this.baseUrl+"scrobbling/update-anilist-token",{token:t})}updateMalToken(t,i){return this.httpClient.post(this.baseUrl+"scrobbling/update-mal-token",{username:t,accessToken:i})}getAniListToken(){return this.httpClient.get(this.baseUrl+"scrobbling/anilist-token",r)}getMalToken(){return this.httpClient.get(this.baseUrl+"scrobbling/mal-token")}getScrobbleErrors(){return this.httpClient.get(this.baseUrl+"scrobbling/scrobble-errors")}getScrobbleEvents(t,i=void 0,g=void 0){let o=new h;return o=this.utilityService.addPaginationIfExists(o,i,g),this.httpClient.post(this.baseUrl+"scrobbling/scrobble-events",t,{observe:"response",params:o}).pipe(n(d=>this.utilityService.createPaginatedResult(d,new u)))}clearScrobbleErrors(){return this.httpClient.post(this.baseUrl+"scrobbling/clear-errors",{})}getHolds(){return this.httpClient.get(this.baseUrl+"scrobbling/holds")}libraryAllowsScrobbling(t){return this.httpClient.get(this.baseUrl+"scrobbling/library-allows-scrobbling?seriesId="+t,r).pipe(n(i=>i==="true"))}hasHold(t){return this.httpClient.get(this.baseUrl+"scrobbling/has-hold?seriesId="+t,r).pipe(n(i=>i==="true"))}addHold(t){return this.httpClient.post(this.baseUrl+"scrobbling/add-hold?seriesId="+t,r)}removeHold(t){return this.httpClient.delete(this.baseUrl+"scrobbling/remove-hold?seriesId="+t,r)}};s.\u0275fac=function(i){return new(i||s)(l(p),l(c))},s.\u0275prov=a({token:s,factory:s.\u0275fac,providedIn:"root"});let e=s;return e})();export{m as a,H as b};
//# sourceMappingURL=chunk-RLL2TM5C.js.map
