import{q as m}from"./chunk-SPNNO5LP.js";import{Dd as v,Hd as S,Id as h,S as n,_c as u,ka as d,o as s,pa as r,rb as c}from"./chunk-2LHIXASS.js";var U=(()=>{let i=class i{constructor(e,t,o,l){this.document=e,this.httpClient=o,this.accountService=l,this.localStorageSideNavKey="kavita--sidenav--expanded",this.navbarVisibleSource=new s(1),this.navbarVisible$=this.navbarVisibleSource.asObservable(),this.sideNavCollapseSource=new s(1),this.sideNavCollapsed$=this.sideNavCollapseSource.asObservable(),this.sideNavVisibilitySource=new s(1),this.sideNavVisibility$=this.sideNavVisibilitySource.asObservable(),this.baseUrl=S.apiUrl,this.renderer=t.createRenderer(null,null),this.accountService.currentUser$.pipe(n(1)).subscribe(b=>{b&&this.showNavBar()});let p=localStorage.getItem(this.localStorageSideNavKey)==="true"||!1;this.sideNavCollapseSource.next(p),this.showSideNav()}getSideNavStreams(e=!0){return this.httpClient.get(this.baseUrl+"stream/sidenav?visibleOnly="+e)}updateSideNavStreamPosition(e,t,o,l){return this.httpClient.post(this.baseUrl+"stream/update-sidenav-position",{streamName:e,id:t,fromPosition:o,toPosition:l},h)}updateSideNavStream(e){return this.httpClient.post(this.baseUrl+"stream/update-sidenav-stream",e,h)}createSideNavStream(e){return this.httpClient.post(this.baseUrl+"stream/add-sidenav-stream?smartFilterId="+e,{})}createSideNavStreamFromExternalSource(e){return this.httpClient.post(this.baseUrl+"stream/add-sidenav-stream-from-external-source?externalSourceId="+e,{})}bulkToggleSideNavStreamVisibility(e,t){return this.httpClient.post(this.baseUrl+"stream/bulk-sidenav-stream-visibility",{ids:e,visibility:t})}showNavBar(){this.renderer.setStyle(this.document.querySelector("body"),"margin-top","56px"),this.renderer.setStyle(this.document.querySelector("body"),"height","calc(var(--vh)*100 - 56px)"),this.renderer.setStyle(this.document.querySelector("html"),"height","calc(var(--vh)*100 - 56px)"),this.navbarVisibleSource.next(!0)}hideNavBar(){this.renderer.setStyle(this.document.querySelector("body"),"margin-top","0px"),this.renderer.removeStyle(this.document.querySelector("body"),"height"),this.renderer.removeStyle(this.document.querySelector("html"),"height"),this.navbarVisibleSource.next(!1)}showSideNav(){this.sideNavVisibilitySource.next(!0)}hideSideNav(){this.sideNavVisibilitySource.next(!1)}toggleSideNav(){this.sideNavCollapseSource.pipe(n(1)).subscribe(e=>{e===void 0&&(e=!1);let t=!e;this.sideNavCollapseSource.next(t),localStorage.setItem(this.localStorageSideNavKey,t+"")})}};i.\u0275fac=function(t){return new(t||i)(r(u),r(c),r(v),r(m))},i.\u0275prov=d({token:i,factory:i.\u0275fac,providedIn:"root"});let a=i;return a})();export{U as a};
//# sourceMappingURL=chunk-WBO5KV4A.js.map
