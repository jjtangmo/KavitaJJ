import{La as m,Oa as w,la as p,wa as v}from"./chunk-2LHIXASS.js";var s=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},h=class extends s{constructor(t,n,o,e,c){super(),this.component=t,this.viewContainerRef=n,this.injector=o,this.componentFactoryResolver=e,this.projectableNodes=c}},d=class extends s{constructor(t,n,o,e){super(),this.templateRef=t,this.viewContainerRef=n,this.context=o,this.injector=e}get origin(){return this.templateRef.elementRef}attach(t,n=this.context){return this.context=n,super.attach(t)}detach(){return this.context=void 0,super.detach()}},l=class extends s{constructor(t){super(),this.element=t instanceof w?t.nativeElement:t}},u=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof h)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof d)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof l)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var D=class extends u{constructor(t,n,o,e,c){super(),this.outletElement=t,this._componentFactoryResolver=n,this._appRef=o,this._defaultInjector=e,this.attachDomPortal=f=>{this._document;let r=f.element;r.parentNode;let a=this._document.createComment("dom-portal");r.parentNode.insertBefore(a,r),this.outletElement.appendChild(r),this._attachedPortal=f,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(r,a)})},this._document=c}attachComponentPortal(t){let o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),e;return t.viewContainerRef?(e=t.viewContainerRef.createComponent(o,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>e.destroy())):(e=o.create(t.injector||this._defaultInjector||m.NULL),this._appRef.attachView(e.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(e.hostView),e.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=t,e}attachTemplatePortal(t){let n=t.viewContainerRef,o=n.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return o.rootNodes.forEach(e=>this.outletElement.appendChild(e)),o.detectChanges(),this.setDisposeFn(()=>{let e=n.indexOf(o);e!==-1&&n.remove(e)}),this._attachedPortal=t,o}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var T=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=v({type:t}),t.\u0275inj=p({});let i=t;return i})();export{h as a,d as b,D as c,T as d};
//# sourceMappingURL=chunk-5XQ66AVT.js.map
